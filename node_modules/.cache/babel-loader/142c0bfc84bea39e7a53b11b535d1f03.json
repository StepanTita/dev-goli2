{"ast":null,"code":"import _regeneratorRuntime from\"/home/stepan/Projects/goli/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/stepan/Projects/goli/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/stepan/Projects/goli/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import Button from\"../Button/Button\";import ProgressBar from\"../ProgressBar/ProgressBar\";import Hand from\"../../assets/images/Hand.png\";import styles from\"./Votings.module.scss\";import cx from\"classnames\";var Votings=function Votings(props){var _useState=useState(\"Latest\"),_useState2=_slicedToArray(_useState,2),currentCategory=_useState2[0],setCurrentCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),quizes=_useState4[0],setQuizes=_useState4[1];var categories=[{title:\"Latest\"},{title:\"Art\"},{title:\"Politics\"},{title:\"Science\"},{title:\"Sport\"}];var fetchAndSetQuizes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var quizes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://dev-goli.herokuapp.com/api/quizes\");case 2:quizes=_context.sent;setQuizes(quizes.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchAndSetQuizes(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchAndSetQuizes();},[]);return/*#__PURE__*/React.createElement(\"div\",{className:cx(styles.votings,\"pb3\")},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-center\"},/*#__PURE__*/React.createElement(\"img\",{src:Hand,className:styles.leftHand,height:\"238.1\",width:\"238.1\",alt:\"leftHand\"}),/*#__PURE__*/React.createElement(\"h2\",{id:\"votings\"},\"Votings\"),/*#__PURE__*/React.createElement(\"img\",{src:Hand,className:styles.rightHand,alt:\"rightHand\"})),/*#__PURE__*/React.createElement(\"div\",{className:cx(\"flex flex-center\",styles.categories)},/*#__PURE__*/React.createElement(\"h5\",null,\"Categories\"),categories.map(function(category,index){return/*#__PURE__*/React.createElement(Button,{variant:currentCategory===category.title?\"secondary\":\"secondary--inactive\",onClick:function onClick(){return setCurrentCategory(category.title);},key:category.title,className:cx(\"ml2\")},category.title);})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-center mt4\"},quizes.filter(function(_,index){return index<3;}).map(function(quiz,index){var _quiz$voteDetails;return/*#__PURE__*/React.createElement(\"div\",{className:cx(styles.card,{ml3:index!==0}),key:quiz.title},/*#__PURE__*/React.createElement(\"h4\",{className:styles[\"h4-1\"]},quiz.quiz_type||\"Art\"),/*#__PURE__*/React.createElement(\"h3\",null,quiz.title),/*#__PURE__*/React.createElement(\"h5\",null,(quiz===null||quiz===void 0?void 0:(_quiz$voteDetails=quiz.voteDetails)===null||_quiz$voteDetails===void 0?void 0:_quiz$voteDetails.author)||\"Автор: Люся Ветрова\"),/*#__PURE__*/React.createElement(\"p\",null,quiz.description),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProgressBar,{value:quiz.indicator_value,height:\"10px\"}),/*#__PURE__*/React.createElement(\"h4\",{className:styles.h4},quiz.goal*quiz.indicator_value,\" votes\"),/*#__PURE__*/React.createElement(\"h5\",{className:styles.h5},\"View all details\")));})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",className:\"mt3 mx-auto\",style:{padding:\"22.5px 66px\"}},\"VIEW ALL\"));};export default Votings;","map":{"version":3,"sources":["/home/stepan/Projects/goli/src/components/Votings/Votings.jsx"],"names":["axios","React","useEffect","useState","Button","ProgressBar","Hand","styles","cx","Votings","props","currentCategory","setCurrentCategory","quizes","setQuizes","categories","title","fetchAndSetQuizes","get","data","votings","leftHand","rightHand","map","category","index","filter","_","quiz","card","ml3","quiz_type","voteDetails","author","description","indicator_value","h4","goal","h5","padding"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"../Button/Button\";\nimport ProgressBar from \"../ProgressBar/ProgressBar\";\nimport Hand from \"../../assets/images/Hand.png\";\nimport styles from \"./Votings.module.scss\";\nimport cx from \"classnames\";\nconst Votings = (props) => {\n  const [currentCategory, setCurrentCategory] = useState(\"Latest\");\n  const [quizes, setQuizes] = useState([]);\n  const categories = [\n    { title: \"Latest\" },\n    { title: \"Art\" },\n    { title: \"Politics\" },\n    { title: \"Science\" },\n    { title: \"Sport\" },\n  ];\n\n  const fetchAndSetQuizes = async () => {\n    const quizes = await axios.get(\"https://dev-goli.herokuapp.com/api/quizes\");\n\n    setQuizes(quizes.data);\n  };\n\n  useEffect(() => {\n    fetchAndSetQuizes();\n  }, []);\n\n  return (\n    <div className={cx(styles.votings, \"pb3\")}>\n      <div className=\"flex flex-center\">\n        <img\n          src={Hand}\n          className={styles.leftHand}\n          height=\"238.1\"\n          width=\"238.1\"\n          alt=\"leftHand\"\n        />\n        <h2 id=\"votings\">Votings</h2>\n\n        <img src={Hand} className={styles.rightHand} alt=\"rightHand\" />\n      </div>\n      <div className={cx(\"flex flex-center\", styles.categories)}>\n        <h5>Categories</h5>\n        {categories.map((category, index) => (\n          <Button\n            variant={\n              currentCategory === category.title\n                ? \"secondary\"\n                : \"secondary--inactive\"\n            }\n            onClick={() => setCurrentCategory(category.title)}\n            key={category.title}\n            className={cx(\"ml2\")}\n          >\n            {category.title}\n          </Button>\n        ))}\n      </div>\n      <div className=\"flex flex-center mt4\">\n        {quizes\n          .filter((_, index) => index < 3)\n          .map((quiz, index) => (\n            <div\n              className={cx(styles.card, { ml3: index !== 0 })}\n              key={quiz.title}\n            >\n              <h4 className={styles[\"h4-1\"]}>{quiz.quiz_type || \"Art\"}</h4>\n              <h3>{quiz.title}</h3>\n              <h5>{quiz?.voteDetails?.author || \"Автор: Люся Ветрова\"}</h5>\n              <p>{quiz.description}</p>\n              <div>\n                <ProgressBar value={quiz.indicator_value} height=\"10px\" />\n                <h4 className={styles.h4}>\n                  {quiz.goal * quiz.indicator_value} votes\n                </h4>\n\n                <h5 className={styles.h5}>View all details</h5>\n              </div>\n            </div>\n          ))}\n      </div>\n      <Button\n        variant=\"primary\"\n        className=\"mt3 mx-auto\"\n        style={{ padding: \"22.5px 66px\" }}\n      >\n        VIEW ALL\n      </Button>\n    </div>\n  );\n};\n\nexport default Votings;\n"]},"metadata":{},"sourceType":"module"}