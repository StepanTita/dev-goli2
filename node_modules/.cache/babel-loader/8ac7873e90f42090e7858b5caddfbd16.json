{"ast":null,"code":"import _slicedToArray from\"/home/stepan/Projects/goli/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/home/stepan/Projects/goli/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/stepan/Projects/goli/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import Button from\"../Button/Button\";import ProgressBar from\"../ProgressBar/ProgressBar\";import Hand from\"../../assets/images/Hand.png\";import styles from\"./Votings.module.scss\";import cx from\"classnames\";import{useHistory}from\"react-router\";import BackgroundShapes from\"../BackgroundShapes/BackgroundShapes\";export var categories=[{title:\"Latest\"},{title:\"Art\"},{title:\"Politics\"},{title:\"Science\"},{title:\"Sport\"}];export var fetchAndSetQuizes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(setQuizes){var quizes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://dev-goli.herokuapp.com/api/quizes\");case 2:quizes=_context.sent;setQuizes(quizes.data.results);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchAndSetQuizes(_x){return _ref.apply(this,arguments);};}();var Votings=function Votings(props){var _useState=useState(\"Latest\"),_useState2=_slicedToArray(_useState,2),currentCategory=_useState2[0],setCurrentCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),quizes=_useState4[0],setQuizes=_useState4[1];useEffect(function(){fetchAndSetQuizes(setQuizes);},[]);var history=useHistory();return/*#__PURE__*/React.createElement(\"div\",{className:cx(styles.votings,\"pb3\")},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-center\"},/*#__PURE__*/React.createElement(\"img\",{src:Hand,className:styles.leftHand,height:\"238.1\",width:\"238.1\",alt:\"leftHand\"}),/*#__PURE__*/React.createElement(\"h2\",{id:\"votings\"},\"Votings\"),/*#__PURE__*/React.createElement(\"img\",{src:Hand,className:styles.rightHand,alt:\"rightHand\"})),/*#__PURE__*/React.createElement(\"div\",{className:cx(\"flex flex-center\",styles.categories)},/*#__PURE__*/React.createElement(\"h5\",null,\"Categories\"),categories.map(function(category,index){return/*#__PURE__*/React.createElement(Button,{variant:currentCategory===category.title?\"secondary\":\"secondary--inactive\",onClick:function onClick(){return setCurrentCategory(category.title);},key:category.title,className:cx(\"ml2\")},category.title);})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-center mt4\"},quizes.filter(function(_,index){return index<3;}).map(function(quiz,index){var _quiz$voteDetails;return/*#__PURE__*/React.createElement(\"div\",{className:cx(styles.card,{ml3:index!==0}),key:quiz.title},/*#__PURE__*/React.createElement(\"h4\",{className:styles[\"h4-1\"]},quiz.quiz_type||\"Art\"),/*#__PURE__*/React.createElement(\"h3\",null,quiz.title),/*#__PURE__*/React.createElement(\"h5\",null,(quiz===null||quiz===void 0?void 0:(_quiz$voteDetails=quiz.voteDetails)===null||_quiz$voteDetails===void 0?void 0:_quiz$voteDetails.author)||\"Автор: Люся Ветрова\"),/*#__PURE__*/React.createElement(\"p\",null,quiz.description),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProgressBar,{value:quiz.indicator_value,height:\"10px\"}),/*#__PURE__*/React.createElement(\"h4\",{className:styles.h4},quiz.goal*quiz.indicator_value,\" votes\"),/*#__PURE__*/React.createElement(\"h5\",{className:styles.h5},\"View all details\")));})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",className:\"mt3 mx-auto\",style:{padding:\"22.5px 66px\"},onClick:function onClick(){history.push(\"/votings\");}},\"VIEW ALL\"));};export default Votings;","map":{"version":3,"sources":["/home/stepan/Projects/goli/src/components/Votings/Votings.jsx"],"names":["axios","React","useEffect","useState","Button","ProgressBar","Hand","styles","cx","useHistory","BackgroundShapes","categories","title","fetchAndSetQuizes","setQuizes","get","quizes","data","results","Votings","props","currentCategory","setCurrentCategory","history","votings","leftHand","rightHand","map","category","index","filter","_","quiz","card","ml3","quiz_type","voteDetails","author","description","indicator_value","h4","goal","h5","padding","push"],"mappings":"gbAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,sCAA7B,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,CACxB,CAAEC,KAAK,CAAE,QAAT,CADwB,CAExB,CAAEA,KAAK,CAAE,KAAT,CAFwB,CAGxB,CAAEA,KAAK,CAAE,UAAT,CAHwB,CAIxB,CAAEA,KAAK,CAAE,SAAT,CAJwB,CAKxB,CAAEA,KAAK,CAAE,OAAT,CALwB,CAAnB,CAQP,MAAO,IAAMC,CAAAA,iBAAiB,0FAAG,iBAAOC,SAAP,mJACVd,CAAAA,KAAK,CAACe,GAAN,CAAU,2CAAV,CADU,QACzBC,MADyB,eAG/BF,SAAS,CAACE,MAAM,CAACC,IAAP,CAAYC,OAAb,CAAT,CAH+B,sDAAH,kBAAjBL,CAAAA,iBAAiB,4CAAvB,CAMP,GAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,eACqBjB,QAAQ,CAAC,QAAD,CAD7B,wCAClBkB,eADkB,eACDC,kBADC,8BAEGnB,QAAQ,CAAC,EAAD,CAFX,yCAElBa,MAFkB,eAEVF,SAFU,eAIzBZ,SAAS,CAAC,UAAM,CACdW,iBAAiB,CAACC,SAAD,CAAjB,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMS,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CAEA,mBACE,2BAAK,SAAS,CAAED,EAAE,CAACD,MAAM,CAACiB,OAAR,CAAiB,KAAjB,CAAlB,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BACE,GAAG,CAAElB,IADP,CAEE,SAAS,CAAEC,MAAM,CAACkB,QAFpB,CAGE,MAAM,CAAC,OAHT,CAIE,KAAK,CAAC,OAJR,CAKE,GAAG,CAAC,UALN,EADF,cAQE,0BAAI,EAAE,CAAC,SAAP,YARF,cAUE,2BAAK,GAAG,CAAEnB,IAAV,CAAgB,SAAS,CAAEC,MAAM,CAACmB,SAAlC,CAA6C,GAAG,CAAC,WAAjD,EAVF,CADF,cAaE,2BAAK,SAAS,CAAElB,EAAE,CAAC,kBAAD,CAAqBD,MAAM,CAACI,UAA5B,CAAlB,eACE,2CADF,CAEGA,UAAU,CAACgB,GAAX,CAAe,SAACC,QAAD,CAAWC,KAAX,qBACd,oBAAC,MAAD,EACE,OAAO,CACLR,eAAe,GAAKO,QAAQ,CAAChB,KAA7B,CACI,WADJ,CAEI,qBAJR,CAME,OAAO,CAAE,yBAAMU,CAAAA,kBAAkB,CAACM,QAAQ,CAAChB,KAAV,CAAxB,EANX,CAOE,GAAG,CAAEgB,QAAQ,CAAChB,KAPhB,CAQE,SAAS,CAAEJ,EAAE,CAAC,KAAD,CARf,EAUGoB,QAAQ,CAAChB,KAVZ,CADc,EAAf,CAFH,CAbF,cA8BE,2BAAK,SAAS,CAAC,sBAAf,EACGI,MAAM,CACJc,MADF,CACS,SAACC,CAAD,CAAIF,KAAJ,QAAcA,CAAAA,KAAK,CAAG,CAAtB,EADT,EAEEF,GAFF,CAEM,SAACK,IAAD,CAAOH,KAAP,2CACH,2BACE,SAAS,CAAErB,EAAE,CAACD,MAAM,CAAC0B,IAAR,CAAc,CAAEC,GAAG,CAAEL,KAAK,GAAK,CAAjB,CAAd,CADf,CAEE,GAAG,CAAEG,IAAI,CAACpB,KAFZ,eAIE,0BAAI,SAAS,CAAEL,MAAM,CAAC,MAAD,CAArB,EAAgCyB,IAAI,CAACG,SAAL,EAAkB,KAAlD,CAJF,cAKE,8BAAKH,IAAI,CAACpB,KAAV,CALF,cAME,8BAAK,CAAAoB,IAAI,OAAJ,EAAAA,IAAI,SAAJ,2BAAAA,IAAI,CAAEI,WAAN,8DAAmBC,MAAnB,GAA6B,qBAAlC,CANF,cAOE,6BAAIL,IAAI,CAACM,WAAT,CAPF,cAQE,4CACE,oBAAC,WAAD,EAAa,KAAK,CAAEN,IAAI,CAACO,eAAzB,CAA0C,MAAM,CAAC,MAAjD,EADF,cAEE,0BAAI,SAAS,CAAEhC,MAAM,CAACiC,EAAtB,EACGR,IAAI,CAACS,IAAL,CAAYT,IAAI,CAACO,eADpB,UAFF,cAME,0BAAI,SAAS,CAAEhC,MAAM,CAACmC,EAAtB,qBANF,CARF,CADG,EAFN,CADH,CA9BF,cAqDE,oBAAC,MAAD,EACE,OAAO,CAAC,SADV,CAEE,SAAS,CAAC,aAFZ,CAGE,KAAK,CAAE,CAAEC,OAAO,CAAE,aAAX,CAHT,CAIE,OAAO,CAAE,kBAAM,CACbpB,OAAO,CAACqB,IAAR,CAAa,UAAb,EACD,CANH,aArDF,CADF,CAkED,CA5ED,CA8EA,cAAezB,CAAAA,OAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"../Button/Button\";\nimport ProgressBar from \"../ProgressBar/ProgressBar\";\nimport Hand from \"../../assets/images/Hand.png\";\nimport styles from \"./Votings.module.scss\";\nimport cx from \"classnames\";\nimport { useHistory } from \"react-router\";\nimport BackgroundShapes from \"../BackgroundShapes/BackgroundShapes\";\n\nexport const categories = [\n  { title: \"Latest\" },\n  { title: \"Art\" },\n  { title: \"Politics\" },\n  { title: \"Science\" },\n  { title: \"Sport\" },\n];\n\nexport const fetchAndSetQuizes = async (setQuizes) => {\n  const quizes = await axios.get(\"https://dev-goli.herokuapp.com/api/quizes\");\n\n  setQuizes(quizes.data.results);\n};\n\nconst Votings = (props) => {\n  const [currentCategory, setCurrentCategory] = useState(\"Latest\");\n  const [quizes, setQuizes] = useState([]);\n\n  useEffect(() => {\n    fetchAndSetQuizes(setQuizes);\n  }, []);\n\n  const history = useHistory();\n\n  return (\n    <div className={cx(styles.votings, \"pb3\")}>\n      <div className=\"flex flex-center\">\n        <img\n          src={Hand}\n          className={styles.leftHand}\n          height=\"238.1\"\n          width=\"238.1\"\n          alt=\"leftHand\"\n        />\n        <h2 id=\"votings\">Votings</h2>\n\n        <img src={Hand} className={styles.rightHand} alt=\"rightHand\" />\n      </div>\n      <div className={cx(\"flex flex-center\", styles.categories)}>\n        <h5>Categories</h5>\n        {categories.map((category, index) => (\n          <Button\n            variant={\n              currentCategory === category.title\n                ? \"secondary\"\n                : \"secondary--inactive\"\n            }\n            onClick={() => setCurrentCategory(category.title)}\n            key={category.title}\n            className={cx(\"ml2\")}\n          >\n            {category.title}\n          </Button>\n        ))}\n      </div>\n      <div className=\"flex flex-center mt4\">\n        {quizes\n          .filter((_, index) => index < 3)\n          .map((quiz, index) => (\n            <div\n              className={cx(styles.card, { ml3: index !== 0 })}\n              key={quiz.title}\n            >\n              <h4 className={styles[\"h4-1\"]}>{quiz.quiz_type || \"Art\"}</h4>\n              <h3>{quiz.title}</h3>\n              <h5>{quiz?.voteDetails?.author || \"Автор: Люся Ветрова\"}</h5>\n              <p>{quiz.description}</p>\n              <div>\n                <ProgressBar value={quiz.indicator_value} height=\"10px\" />\n                <h4 className={styles.h4}>\n                  {quiz.goal * quiz.indicator_value} votes\n                </h4>\n\n                <h5 className={styles.h5}>View all details</h5>\n              </div>\n            </div>\n          ))}\n      </div>\n      <Button\n        variant=\"primary\"\n        className=\"mt3 mx-auto\"\n        style={{ padding: \"22.5px 66px\" }}\n        onClick={() => {\n          history.push(\"/votings\");\n        }}\n      >\n        VIEW ALL\n      </Button>\n    </div>\n  );\n};\n\nexport default Votings;\n"]},"metadata":{},"sourceType":"module"}